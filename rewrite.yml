# mvn rewrite:run -Drewrite.activeRecipes=org.checkstyle.recipes.OpenRewriteRecipeBestPractices
---
type: specs.openrewrite.org/v1beta/recipe
name: org.checkstyle.recipes.OpenRewriteRecipeBestPractices
displayName: OpenRewrite recipe best practices
description: Best practices for OpenRewrite recipe development.
recipeList:
  - org.checkstyle.recipes.JavaRecipeBestPractices
  - org.checkstyle.recipes.RecipeTestingBestPracticesSubset
  - org.openrewrite.java.recipes.RecipeNullabilityBestPractices
  - org.openrewrite.java.recipes.ExamplesExtractor
#  - org.openrewrite.java.OrderImports
  - org.openrewrite.java.RemoveUnusedImports
  - org.openrewrite.java.SimplifySingleElementAnnotation
  - org.openrewrite.java.format.EmptyNewlineAtEndOfFile
  - org.openrewrite.java.format.RemoveTrailingWhitespace
  - org.openrewrite.staticanalysis.CompareEnumsWithEqualityOperator
  - org.openrewrite.staticanalysis.EqualsAvoidsNull
  - org.openrewrite.staticanalysis.InlineVariable
#  - org.openrewrite.staticanalysis.LambdaBlockToExpression
  - org.openrewrite.staticanalysis.MissingOverrideAnnotation
  - org.openrewrite.staticanalysis.OperatorWrap:
      wrapOption: NL # Differs from the stock OpenRewrite recipe which uses EOL
  - org.openrewrite.staticanalysis.RemoveRedundantNullCheckBeforeInstanceof
  - org.openrewrite.staticanalysis.RemoveUnusedLocalVariables
  - org.openrewrite.staticanalysis.RemoveUnusedPrivateFields
  - org.openrewrite.staticanalysis.RemoveUnusedPrivateMethods
  #- org.openrewrite.staticanalysis.UnnecessaryThrows
  - org.openrewrite.staticanalysis.UnwrapElseAfterReturn
  - org.openrewrite.staticanalysis.UseDiamondOperator
  - org.openrewrite.java.NoStaticImport:
      methodPattern: java.util.stream.Collectors *(..)
  - org.openrewrite.java.NoStaticImport:
      methodPattern: java.util.Collections *(..)
---
type: specs.openrewrite.org/v1beta/recipe
name: org.checkstyle.recipes.JavaRecipeBestPractices
displayName: Java Recipe best practices
description: Best practices for Java recipe development.
preconditions:
  - org.openrewrite.java.search.FindTypes:
      fullyQualifiedTypeName: org.openrewrite.Recipe
      checkAssignability: true
recipeList:
  - org.openrewrite.java.recipes.BlankLinesAroundFieldsWithAnnotations
  - org.openrewrite.java.recipes.CorrectlySpacedDescriptions
  - org.openrewrite.java.recipes.ExecutionContextParameterName:
      parameterName: executionContext
  - org.openrewrite.java.recipes.IsLiteralNullRecipe
  - org.openrewrite.java.recipes.MissingOptionExample
  - org.openrewrite.java.recipes.NoMutableStaticFieldsInRecipes
  - org.openrewrite.java.recipes.RecipeEqualsAndHashCodeCallSuper
  - org.openrewrite.java.recipes.UseTreeRandomId
  - org.openrewrite.java.InlineMethodCalls
  - org.openrewrite.staticanalysis.NeedBraces
  - org.openrewrite.staticanalysis.RemoveSystemOutPrintln
  - org.openrewrite.java.RemoveAnnotation:
      annotationPattern: '@org.openrewrite.NlsRewrite.DisplayName'
  - org.openrewrite.java.RemoveAnnotation:
      annotationPattern: '@org.openrewrite.NlsRewrite.Description'
---
type: specs.openrewrite.org/v1beta/recipe
name: org.checkstyle.recipes.RecipeTestingBestPracticesSubset
displayName: Recipe testing best practices
description: Best practices for testing recipes.
preconditions:
  - org.openrewrite.java.search.FindTypes:
      fullyQualifiedTypeName: org.openrewrite.test.RewriteTest
      checkAssignability: true
recipeList:
  - org.openrewrite.java.migrate.util.ReplaceStreamCollectWithToList:
      convertToList: true
#  - org.openrewrite.java.recipes.RewriteTestClassesShouldNotBePublic
  - org.openrewrite.java.recipes.SelectRecipeExamples
  - org.openrewrite.java.recipes.SingleDocumentExample
  - org.openrewrite.java.recipes.ReorderTestMethods
  - org.openrewrite.java.recipes.ReplaceNullWithDoesNotExist
  - org.openrewrite.java.recipes.SourceSpecTextBlockNewLine
  - org.openrewrite.java.recipes.SourceSpecTextBlockIndentation
  - org.openrewrite.java.recipes.UseRewriteTestDefaults
  - org.openrewrite.java.testing.cleanup.RemoveTestPrefix
#  - org.openrewrite.java.testing.cleanup.TestsShouldNotBePublic
  - org.openrewrite.staticanalysis.NeedBraces
  - org.openrewrite.staticanalysis.RemoveSystemOutPrintln
  - org.openrewrite.staticanalysis.ReorderAnnotations
  - org.openrewrite.java.UseStaticImport:
      methodPattern: 'org.openrewrite..Assertions *(..)'
---
type: specs.openrewrite.org/v1beta/recipe
name: CheckstyleAutoFixConfigured
displayName: Checkstyle Auto Fix Configured
description: |
  Automatically applies OpenRewrite recipes to fix Checkstyle violations
  based on the provided Checkstyle XML violation report. This recipe serves
  as an entry point to apply all auto-fixable rules configured in the report.
tags:
  - checkstyle
  - autofix
  - static-analysis
  - java
  - code-quality
recipeList:
  - org.checkstyle.autofix.CheckstyleAutoFix:
      violationReportPath: "target/checkstyle/checkstyle-report.xml"
      configurationPath: "https://raw.githubusercontent.com/checkstyle/checkstyle/checkstyle-${checkstyle.version}/config/checkstyle-checks.xml"
      propertiesPath: "config/checkstyle.properties"
